```markdown
# üõ† ToyConfigurator ‚Äì –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è

## üöÄ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
**ToyConfigurator** ‚Äî —ç—Ç–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.  
–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ **—Ç—Ä—ë—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**:

1. **–°–µ—Ä–≤–∏—Å A** ‚Äì –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–∑–∞–≥–ª—É—à–∫–∞), –∑–∞–∫—Ä—ã—Ç—ã–π –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è.
2. **–°–µ—Ä–≤–∏—Å B** ‚Äì –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π frontend-—Å–µ—Ä–≤–∏—Å, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π:
   - –ü—Ä–∏—ë–º –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏—é –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.
   - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á –∏ –æ—Ç–ø—Ä–∞–≤–∫—É –∏—Ö –≤ –æ—á–µ—Ä–µ–¥—å RabbitMQ.
   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á.
3. **–°–∫—Ä–∏–ø—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á** ‚Äì –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –æ—á–µ—Ä–µ–¥—å, –≤—ã–∑—ã–≤–∞–µ—Ç —Å–µ—Ä–≤–∏—Å A –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ RabbitMQ.

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### üîπ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ Redis (WSL)
```sh
wsl --install
sudo apt update && sudo apt install redis -y
redis-server
```

### üîπ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ RabbitMQ (Windows)
–°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [RabbitMQ](https://www.rabbitmq.com/download.html).  
–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```sh
.\rabbitmq-server.bat
```

### üîπ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
```sh
python ServiceA/main.py  # –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞ A
python ServiceB/main.py  # –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞ B
python Adapter/main.py    # –ó–∞–ø—É—Å–∫ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∑–∞–¥–∞—á
```

---

## üîÑ –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã

### üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
1. **–ö–ª–∏–µ–Ω—Ç** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å `POST /api/v1/equipment/cpe/{id}/activate` –≤ **–°–µ—Ä–≤–∏—Å B**.
2. **–°–µ—Ä–≤–∏—Å B** –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `task_id`, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ Redis –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ RabbitMQ.
3. **–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–¥–∞—á** –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –æ—á–µ—Ä–µ–¥—å RabbitMQ, –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–¥–∞—á—É –∏ –≤—ã–∑—ã–≤–∞–µ—Ç **–°–µ—Ä–≤–∏—Å A**.
4. **–°–µ—Ä–≤–∏—Å A** –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –æ—á–µ—Ä–µ–¥—å.
5. **–°–µ—Ä–≤–∏—Å B** –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –æ—á–µ—Ä–µ–¥—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏ –≤ Redis.
6. –ö–ª–∏–µ–Ω—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ `GET /api/v1/equipment/cpe/{id}/task/{task}`.

### üîÑ –î–∏–∞–≥—Ä–∞–º–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:
```mermaid
sequenceDiagram
    participant Client
    participant ServiceB
    participant RabbitMQ
    participant Worker
    participant ServiceA
    participant Redis

    Client->>ServiceB: POST /api/v1/equipment/cpe/{id}/
    ServiceB->>Redis: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ task_id
    ServiceB->>RabbitMQ: –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–¥–∞—á–∏
    Worker->>RabbitMQ: –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
    Worker->>ServiceA: –í—ã–∑–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
    ServiceA->>Worker: –û—Ç–≤–µ—Ç (—É—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞)
    Worker->>RabbitMQ: –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    ServiceB->>RabbitMQ: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    ServiceB->>Redis: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
    Client->>ServiceB: GET /api/v1/equipment/cpe/{id}/task/{task}
    ServiceB->>Redis: –ó–∞–ø—Ä–æ—Å —Å—Ç–∞—Ç—É—Å–∞
    ServiceB-->>Client: –°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏
```

---

## üìå API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### üéØ –ó–∞–ø—Ä–æ—Å –Ω–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏—é –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
```http
POST /api/v1/equipment/cpe/{id}/
```
**–û—Ç–≤–µ—Ç:**
```json
{
  "code": 200,
  "task_id": "unique_task_id"
}
```

### üìå –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏
```http
GET /api/v1/equipment/cpe/{id}/task/{task}
```
#### ‚úÖ –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã:
| –ö–æ–¥ | –°–æ–æ–±—â–µ–Ω–∏–µ                   | –û–ø–∏—Å–∞–Ω–∏–µ                                     |
|-----|-----------------------------|----------------------------------------------|
| 200 | "Completed"                  | –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ                    |
| 204 | "Task is still running"       | –ó–∞–¥–∞—á–∞ –≤—Å—ë –µ—â—ë –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è                  |
| 500 | "Internal provisioning exception" | –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–∏—Å–∞                   |
| 404 | "The requested equipment is not found" | –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ                     |
| 404 | "The requested task is not found" | –ó–∞–¥–∞—á–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞                          |

---

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **FastAPI** ‚Äì HTTP-—Å–µ—Ä–≤–∏—Å
- **Redis** ‚Äì –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–¥–∞—á
- **RabbitMQ** ‚Äì –û—á–µ—Ä–µ–¥–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- **aiohttp** ‚Äì –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã
- **aio_pika** ‚Äì RabbitMQ –∫–ª–∏–µ–Ω—Ç
- **asyncio** ‚Äì –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á

---
